<link rel="import" href="src/galaxy.html">

<template id="asfas">
  <style>
    :host .tomato {
      background: tomato;
    }
  </style>

  WebCompmonent {{ name }}

  <h2 class="something {{ color }} always">Hola, {{ fruits[0].name }}</h2>
  <input type="text" @input="changeName($event)">
  <input type="text" @input="changeFruitName($event)">

  <p>Count: {{ count }}</p>
  <button @click="incrementCount($event, true)">Increment</button>
</template>

<script>
  class Test extends Galaxy.Element {
    constructor () {
      super()

      this.state = {
        result: false,
        name: 'Raphael',
        last: 'sfas',
        color: null,
        count: 1,
        fruits: [
          {
            name: 'Apple',
            calories: 20
          },
          'strawberry'
        ]
      }
    }

    incrementCount (state, $event, Roflmao) {
      console.log(Roflmao)
      state.count++
    }

    changeName (state, { target }) {
      state.name = target.value
    }

    changeFruitName ({ fruits }, { target }) {
      fruits[0].name = target.value
    }

    connectedCallback () {
      setTimeout(() => {
        this.state.color = 'tomato'
      }, 1000)
    }
  }

  customElements.define('custom-test', Test)
</script>
